<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Lesson 5 AOS 2021 | eBird Status Data Products Workshop</title>
  <meta name="description" content="Lessons for a workshop on accessing and using the eBird Status Data Products" />
  <meta name="generator" content="bookdown 0.22.15 and GitBook 2.6.7" />

  <meta property="og:title" content="Lesson 5 AOS 2021 | eBird Status Data Products Workshop" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Lessons for a workshop on accessing and using the eBird Status Data Products" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lesson 5 AOS 2021 | eBird Status Data Products Workshop" />
  
  <meta name="twitter:description" content="Lessons for a workshop on accessing and using the eBird Status Data Products" />
  

<meta name="author" content="Matt Strimas-Mackey and Tom Auer" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="nonraster.html"/>

<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">eBird Status and Trends</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#setup"><i class="fa fa-check"></i><b>0.1</b> Setup</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="access.html"><a href="access.html"><i class="fa fa-check"></i><b>1</b> Data Access</a>
<ul>
<li class="chapter" data-level="1.1" data-path="access.html"><a href="access.html#access-objective"><i class="fa fa-check"></i><b>1.1</b> Objective</a></li>
<li class="chapter" data-level="1.2" data-path="access.html"><a href="access.html#access-intro"><i class="fa fa-check"></i><b>1.2</b> Introduction</a></li>
<li class="chapter" data-level="1.3" data-path="access.html"><a href="access.html#access-request"><i class="fa fa-check"></i><b>1.3</b> Request access</a></li>
<li class="chapter" data-level="1.4" data-path="access.html"><a href="access.html#access-species"><i class="fa fa-check"></i><b>1.4</b> Species list</a></li>
<li class="chapter" data-level="1.5" data-path="access.html"><a href="access.html#access-dl"><i class="fa fa-check"></i><b>1.5</b> Download data</a></li>
<li class="chapter" data-level="1.6" data-path="access.html"><a href="access.html#access-load"><i class="fa fa-check"></i><b>1.6</b> Load data</a></li>
<li class="chapter" data-level="1.7" data-path="access.html"><a href="access.html#access-map"><i class="fa fa-check"></i><b>1.7</b> Mapping</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="site.html"><a href="site.html"><i class="fa fa-check"></i><b>2</b> Site Selection</a>
<ul>
<li class="chapter" data-level="2.1" data-path="site.html"><a href="site.html#site-objective"><i class="fa fa-check"></i><b>2.1</b> Objective</a></li>
<li class="chapter" data-level="2.2" data-path="site.html"><a href="site.html#site-intro"><i class="fa fa-check"></i><b>2.2</b> Introduction</a></li>
<li class="chapter" data-level="2.3" data-path="site.html"><a href="site.html#site-seasonal"><i class="fa fa-check"></i><b>2.3</b> Seasonal abundance data</a></li>
<li class="chapter" data-level="2.4" data-path="site.html"><a href="site.html#site-rangewide"><i class="fa fa-check"></i><b>2.4</b> Range-wide site selection</a></li>
<li class="chapter" data-level="2.5" data-path="site.html"><a href="site.html#site-local"><i class="fa fa-check"></i><b>2.5</b> Local Selection</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="site.html"><a href="site.html#site-local-uncertainty"><i class="fa fa-check"></i><b>2.5.1</b> Uncertainty analysis</a></li>
<li class="chapter" data-level="2.5.2" data-path="site.html"><a href="site.html#site-local-ground"><i class="fa fa-check"></i><b>2.5.2</b> Ground truth</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="trajectories.html"><a href="trajectories.html"><i class="fa fa-check"></i><b>3</b> Multi-species Trajectories</a>
<ul>
<li class="chapter" data-level="3.1" data-path="trajectories.html"><a href="trajectories.html#trajectories-objective"><i class="fa fa-check"></i><b>3.1</b> Objective</a></li>
<li class="chapter" data-level="3.2" data-path="trajectories.html"><a href="trajectories.html#trajectories-intro"><i class="fa fa-check"></i><b>3.2</b> Introduction</a></li>
<li class="chapter" data-level="3.3" data-path="trajectories.html"><a href="trajectories.html#trajectories-data"><i class="fa fa-check"></i><b>3.3</b> Multi-species data</a></li>
<li class="chapter" data-level="3.4" data-path="trajectories.html"><a href="trajectories.html#trajectories-pop"><i class="fa fa-check"></i><b>3.4</b> Proportion of population</a></li>
<li class="chapter" data-level="3.5" data-path="trajectories.html"><a href="trajectories.html#trajectories-traj"><i class="fa fa-check"></i><b>3.5</b> Trajectories</a></li>
<li class="chapter" data-level="3.6" data-path="trajectories.html"><a href="trajectories.html#trajectories-rich"><i class="fa fa-check"></i><b>3.6</b> Richness</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="nonraster.html"><a href="nonraster.html"><i class="fa fa-check"></i><b>4</b> Non-raster Data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="nonraster.html"><a href="nonraster.html#nonraster-objective"><i class="fa fa-check"></i><b>4.1</b> Objective</a></li>
<li class="chapter" data-level="4.2" data-path="nonraster.html"><a href="nonraster.html#nonraster-intro"><i class="fa fa-check"></i><b>4.2</b> Introduction</a></li>
<li class="chapter" data-level="4.3" data-path="nonraster.html"><a href="nonraster.html#nonraster-effext"><i class="fa fa-check"></i><b>4.3</b> Effective extent</a></li>
<li class="chapter" data-level="4.4" data-path="nonraster.html"><a href="nonraster.html#nonraster-ppms"><i class="fa fa-check"></i><b>4.4</b> Predictive performance metrics</a></li>
<li class="chapter" data-level="4.5" data-path="nonraster.html"><a href="nonraster.html#nonraster-pi"><i class="fa fa-check"></i><b>4.5</b> Predictor importance</a></li>
<li class="chapter" data-level="4.6" data-path="nonraster.html"><a href="nonraster.html#nonraster-pd"><i class="fa fa-check"></i><b>4.6</b> Partial dependance</a></li>
<li class="chapter" data-level="4.7" data-path="nonraster.html"><a href="nonraster.html#nonraster-habitat"><i class="fa fa-check"></i><b>4.7</b> Habitat association</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="aos21.html"><a href="aos21.html"><i class="fa fa-check"></i><b>5</b> AOS 2021</a>
<ul>
<li class="chapter" data-level="5.1" data-path="aos21.html"><a href="aos21.html#aos21-objectives"><i class="fa fa-check"></i><b>5.1</b> Objective</a></li>
<li class="chapter" data-level="5.2" data-path="aos21.html"><a href="aos21.html#aos21-pop"><i class="fa fa-check"></i><b>5.2</b> Percent of population</a></li>
<li class="chapter" data-level="5.3" data-path="aos21.html"><a href="aos21.html#aos21-habitat"><i class="fa fa-check"></i><b>5.3</b> Habitat associations</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">eBird Status Data Products Workshop</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="aos21" class="section level1" number="5">
<h1><span class="header-section-number">Lesson 5</span> AOS 2021</h1>
<div id="aos21-objectives" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Objective</h2>
<p>Covering examples specifically requested at the AOS 2021 workshop.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="aos21.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ebirdst)</span>
<span id="cb43-2"><a href="aos21.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb43-3"><a href="aos21.html#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb43-4"><a href="aos21.html#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb43-5"><a href="aos21.html#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb43-6"><a href="aos21.html#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(exactextractr)</span></code></pre></div>
</div>
<div id="aos21-pop" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Percent of population</h2>
<p>The <a href="https://ebird.org/science/status-and-trends/logshr/abundance-stats-regional">abundance regional stats section</a> of the status and trends website provides estimates of the percent of the population within each state or Bird Conservation Region (BCR). Users of the data may want to calculate this percent of population for custom regions, not found on the status and trends website. As an example, let’s calculate the percent of population found in US states during each season.</p>
<p>Let’s start by downloading state boundaries from Natural Earth and loading the seasonal relative abundance. Here we’ll use the <code>lr</code> data in the interest of speed.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="aos21.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># loggerhead shrike seasonal abundance</span></span>
<span id="cb44-2"><a href="aos21.html#cb44-2" aria-hidden="true" tabindex="-1"></a>abd <span class="ot">&lt;-</span> <span class="fu">get_species_path</span>(<span class="st">&quot;logshr&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-3"><a href="aos21.html#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">load_raster</span>(<span class="st">&quot;abundance_seasonal&quot;</span>, <span class="at">res =</span> <span class="st">&quot;lr&quot;</span>)</span>
<span id="cb44-4"><a href="aos21.html#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="aos21.html#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co"># border of louisiana</span></span>
<span id="cb44-6"><a href="aos21.html#cb44-6" aria-hidden="true" tabindex="-1"></a>states <span class="ot">&lt;-</span> <span class="fu">ne_states</span>(<span class="at">iso_a2 =</span> <span class="st">&quot;US&quot;</span>, <span class="at">returnclass =</span> <span class="st">&quot;sf&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-7"><a href="aos21.html#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="at">crs =</span> <span class="fu">projection</span>(abd))</span></code></pre></div>
<p>Next we’ll convert the relative abundance raster into a percent of population raster by dividing by the total population across the whole range.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="aos21.html#cb45-1" aria-hidden="true" tabindex="-1"></a>abd_total <span class="ot">&lt;-</span> <span class="fu">cellStats</span>(abd, sum)</span>
<span id="cb45-2"><a href="aos21.html#cb45-2" aria-hidden="true" tabindex="-1"></a>pct_pop <span class="ot">&lt;-</span> abd <span class="sc">/</span> abd_total</span></code></pre></div>
<p>Finally, we can extract all the values that fall within the given polygon and sum them to calculate the percent of population within the polygon.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="aos21.html#cb46-1" aria-hidden="true" tabindex="-1"></a>state_pop <span class="ot">&lt;-</span> <span class="fu">exact_extract</span>(pct_pop, states, <span class="at">fun =</span> <span class="st">&quot;sum&quot;</span>, <span class="at">append_cols =</span> <span class="st">&quot;name&quot;</span>)</span>
<span id="cb46-2"><a href="aos21.html#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb46-3"><a href="aos21.html#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-4"><a href="aos21.html#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span>                                                                                                         <span class="er">|</span>   <span class="dv">0</span>%</span>
<span id="cb46-5"><a href="aos21.html#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-6"><a href="aos21.html#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==</span>                                                                                                       <span class="er">|</span>   <span class="dv">2</span>%</span>
<span id="cb46-7"><a href="aos21.html#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-8"><a href="aos21.html#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="er">|====</span>                                                                                                     <span class="er">|</span>   <span class="dv">4</span>%</span>
<span id="cb46-9"><a href="aos21.html#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-10"><a href="aos21.html#cb46-10" aria-hidden="true" tabindex="-1"></a>  <span class="er">|======</span>                                                                                                   <span class="er">|</span>   <span class="dv">6</span>%</span>
<span id="cb46-11"><a href="aos21.html#cb46-11" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-12"><a href="aos21.html#cb46-12" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========</span>                                                                                                 <span class="er">|</span>   <span class="dv">8</span>%</span>
<span id="cb46-13"><a href="aos21.html#cb46-13" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-14"><a href="aos21.html#cb46-14" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==========</span>                                                                                               <span class="er">|</span>  <span class="dv">10</span>%</span>
<span id="cb46-15"><a href="aos21.html#cb46-15" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-16"><a href="aos21.html#cb46-16" aria-hidden="true" tabindex="-1"></a>  <span class="er">|============</span>                                                                                             <span class="er">|</span>  <span class="dv">12</span>%</span>
<span id="cb46-17"><a href="aos21.html#cb46-17" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-18"><a href="aos21.html#cb46-18" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==============</span>                                                                                           <span class="er">|</span>  <span class="dv">14</span>%</span>
<span id="cb46-19"><a href="aos21.html#cb46-19" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-20"><a href="aos21.html#cb46-20" aria-hidden="true" tabindex="-1"></a>  <span class="er">|================</span>                                                                                         <span class="er">|</span>  <span class="dv">16</span>%</span>
<span id="cb46-21"><a href="aos21.html#cb46-21" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-22"><a href="aos21.html#cb46-22" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===================</span>                                                                                      <span class="er">|</span>  <span class="dv">18</span>%</span>
<span id="cb46-23"><a href="aos21.html#cb46-23" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-24"><a href="aos21.html#cb46-24" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=====================</span>                                                                                    <span class="er">|</span>  <span class="dv">20</span>%</span>
<span id="cb46-25"><a href="aos21.html#cb46-25" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-26"><a href="aos21.html#cb46-26" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=======================</span>                                                                                  <span class="er">|</span>  <span class="dv">22</span>%</span>
<span id="cb46-27"><a href="aos21.html#cb46-27" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-28"><a href="aos21.html#cb46-28" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=========================</span>                                                                                <span class="er">|</span>  <span class="dv">24</span>%</span>
<span id="cb46-29"><a href="aos21.html#cb46-29" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-30"><a href="aos21.html#cb46-30" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===========================</span>                                                                              <span class="er">|</span>  <span class="dv">25</span>%</span>
<span id="cb46-31"><a href="aos21.html#cb46-31" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-32"><a href="aos21.html#cb46-32" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=============================</span>                                                                            <span class="er">|</span>  <span class="dv">27</span>%</span>
<span id="cb46-33"><a href="aos21.html#cb46-33" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-34"><a href="aos21.html#cb46-34" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===============================</span>                                                                          <span class="er">|</span>  <span class="dv">29</span>%</span>
<span id="cb46-35"><a href="aos21.html#cb46-35" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-36"><a href="aos21.html#cb46-36" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=================================</span>                                                                        <span class="er">|</span>  <span class="dv">31</span>%</span>
<span id="cb46-37"><a href="aos21.html#cb46-37" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-38"><a href="aos21.html#cb46-38" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===================================</span>                                                                      <span class="er">|</span>  <span class="dv">33</span>%</span>
<span id="cb46-39"><a href="aos21.html#cb46-39" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-40"><a href="aos21.html#cb46-40" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=====================================</span>                                                                    <span class="er">|</span>  <span class="dv">35</span>%</span>
<span id="cb46-41"><a href="aos21.html#cb46-41" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-42"><a href="aos21.html#cb46-42" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=======================================</span>                                                                  <span class="er">|</span>  <span class="dv">37</span>%</span>
<span id="cb46-43"><a href="aos21.html#cb46-43" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-44"><a href="aos21.html#cb46-44" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=========================================</span>                                                                <span class="er">|</span>  <span class="dv">39</span>%</span>
<span id="cb46-45"><a href="aos21.html#cb46-45" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-46"><a href="aos21.html#cb46-46" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===========================================</span>                                                              <span class="er">|</span>  <span class="dv">41</span>%</span>
<span id="cb46-47"><a href="aos21.html#cb46-47" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-48"><a href="aos21.html#cb46-48" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=============================================</span>                                                            <span class="er">|</span>  <span class="dv">43</span>%</span>
<span id="cb46-49"><a href="aos21.html#cb46-49" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-50"><a href="aos21.html#cb46-50" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===============================================</span>                                                          <span class="er">|</span>  <span class="dv">45</span>%</span>
<span id="cb46-51"><a href="aos21.html#cb46-51" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-52"><a href="aos21.html#cb46-52" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=================================================</span>                                                        <span class="er">|</span>  <span class="dv">47</span>%</span>
<span id="cb46-53"><a href="aos21.html#cb46-53" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-54"><a href="aos21.html#cb46-54" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===================================================</span>                                                      <span class="er">|</span>  <span class="dv">49</span>%</span>
<span id="cb46-55"><a href="aos21.html#cb46-55" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-56"><a href="aos21.html#cb46-56" aria-hidden="true" tabindex="-1"></a>  <span class="er">|======================================================</span>                                                   <span class="er">|</span>  <span class="dv">51</span>%</span>
<span id="cb46-57"><a href="aos21.html#cb46-57" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-58"><a href="aos21.html#cb46-58" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================================================</span>                                                 <span class="er">|</span>  <span class="dv">53</span>%</span>
<span id="cb46-59"><a href="aos21.html#cb46-59" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-60"><a href="aos21.html#cb46-60" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==========================================================</span>                                               <span class="er">|</span>  <span class="dv">55</span>%</span>
<span id="cb46-61"><a href="aos21.html#cb46-61" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-62"><a href="aos21.html#cb46-62" aria-hidden="true" tabindex="-1"></a>  <span class="er">|============================================================</span>                                             <span class="er">|</span>  <span class="dv">57</span>%</span>
<span id="cb46-63"><a href="aos21.html#cb46-63" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-64"><a href="aos21.html#cb46-64" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==============================================================</span>                                           <span class="er">|</span>  <span class="dv">59</span>%</span>
<span id="cb46-65"><a href="aos21.html#cb46-65" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-66"><a href="aos21.html#cb46-66" aria-hidden="true" tabindex="-1"></a>  <span class="er">|================================================================</span>                                         <span class="er">|</span>  <span class="dv">61</span>%</span>
<span id="cb46-67"><a href="aos21.html#cb46-67" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-68"><a href="aos21.html#cb46-68" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==================================================================</span>                                       <span class="er">|</span>  <span class="dv">63</span>%</span>
<span id="cb46-69"><a href="aos21.html#cb46-69" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-70"><a href="aos21.html#cb46-70" aria-hidden="true" tabindex="-1"></a>  <span class="er">|====================================================================</span>                                     <span class="er">|</span>  <span class="dv">65</span>%</span>
<span id="cb46-71"><a href="aos21.html#cb46-71" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-72"><a href="aos21.html#cb46-72" aria-hidden="true" tabindex="-1"></a>  <span class="er">|======================================================================</span>                                   <span class="er">|</span>  <span class="dv">67</span>%</span>
<span id="cb46-73"><a href="aos21.html#cb46-73" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-74"><a href="aos21.html#cb46-74" aria-hidden="true" tabindex="-1"></a>  <span class="er">|========================================================================</span>                                 <span class="er">|</span>  <span class="dv">69</span>%</span>
<span id="cb46-75"><a href="aos21.html#cb46-75" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-76"><a href="aos21.html#cb46-76" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==========================================================================</span>                               <span class="er">|</span>  <span class="dv">71</span>%</span>
<span id="cb46-77"><a href="aos21.html#cb46-77" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-78"><a href="aos21.html#cb46-78" aria-hidden="true" tabindex="-1"></a>  <span class="er">|============================================================================</span>                             <span class="er">|</span>  <span class="dv">73</span>%</span>
<span id="cb46-79"><a href="aos21.html#cb46-79" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-80"><a href="aos21.html#cb46-80" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==============================================================================</span>                           <span class="er">|</span>  <span class="dv">75</span>%</span>
<span id="cb46-81"><a href="aos21.html#cb46-81" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-82"><a href="aos21.html#cb46-82" aria-hidden="true" tabindex="-1"></a>  <span class="er">|================================================================================</span>                         <span class="er">|</span>  <span class="dv">76</span>%</span>
<span id="cb46-83"><a href="aos21.html#cb46-83" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-84"><a href="aos21.html#cb46-84" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==================================================================================</span>                       <span class="er">|</span>  <span class="dv">78</span>%</span>
<span id="cb46-85"><a href="aos21.html#cb46-85" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-86"><a href="aos21.html#cb46-86" aria-hidden="true" tabindex="-1"></a>  <span class="er">|====================================================================================</span>                     <span class="er">|</span>  <span class="dv">80</span>%</span>
<span id="cb46-87"><a href="aos21.html#cb46-87" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-88"><a href="aos21.html#cb46-88" aria-hidden="true" tabindex="-1"></a>  <span class="er">|======================================================================================</span>                   <span class="er">|</span>  <span class="dv">82</span>%</span>
<span id="cb46-89"><a href="aos21.html#cb46-89" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-90"><a href="aos21.html#cb46-90" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=========================================================================================</span>                <span class="er">|</span>  <span class="dv">84</span>%</span>
<span id="cb46-91"><a href="aos21.html#cb46-91" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-92"><a href="aos21.html#cb46-92" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===========================================================================================</span>              <span class="er">|</span>  <span class="dv">86</span>%</span>
<span id="cb46-93"><a href="aos21.html#cb46-93" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-94"><a href="aos21.html#cb46-94" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=============================================================================================</span>            <span class="er">|</span>  <span class="dv">88</span>%</span>
<span id="cb46-95"><a href="aos21.html#cb46-95" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-96"><a href="aos21.html#cb46-96" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===============================================================================================</span>          <span class="er">|</span>  <span class="dv">90</span>%</span>
<span id="cb46-97"><a href="aos21.html#cb46-97" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-98"><a href="aos21.html#cb46-98" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=================================================================================================</span>        <span class="er">|</span>  <span class="dv">92</span>%</span>
<span id="cb46-99"><a href="aos21.html#cb46-99" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-100"><a href="aos21.html#cb46-100" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===================================================================================================</span>      <span class="er">|</span>  <span class="dv">94</span>%</span>
<span id="cb46-101"><a href="aos21.html#cb46-101" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-102"><a href="aos21.html#cb46-102" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=====================================================================================================</span>    <span class="er">|</span>  <span class="dv">96</span>%</span>
<span id="cb46-103"><a href="aos21.html#cb46-103" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-104"><a href="aos21.html#cb46-104" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=======================================================================================================</span>  <span class="er">|</span>  <span class="dv">98</span>%</span>
<span id="cb46-105"><a href="aos21.html#cb46-105" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                                                               </span>
<span id="cb46-106"><a href="aos21.html#cb46-106" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=========================================================================================================|</span> <span class="dv">100</span>%</span>
<span id="cb46-107"><a href="aos21.html#cb46-107" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(state_pop, <span class="sc">-</span>sum.breeding)</span>
<span id="cb46-108"><a href="aos21.html#cb46-108" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                    name sum.breeding sum.postbreeding_migration sum.nonbreeding sum.prebreeding_migration</span></span>
<span id="cb46-109"><a href="aos21.html#cb46-109" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1            California     9.11e-02                   6.55e-02        6.95e-02                  7.67e-02</span></span>
<span id="cb46-110"><a href="aos21.html#cb46-110" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2               Arizona     8.51e-02                   7.44e-02        5.98e-02                  6.17e-02</span></span>
<span id="cb46-111"><a href="aos21.html#cb46-111" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3                 Texas     6.21e-02                   1.79e-01        2.16e-01                  1.68e-01</span></span>
<span id="cb46-112"><a href="aos21.html#cb46-112" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4                Nevada     5.68e-02                   3.29e-02        2.11e-02                  3.77e-02</span></span>
<span id="cb46-113"><a href="aos21.html#cb46-113" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5            New Mexico     5.52e-02                   6.48e-02        5.92e-02                  6.18e-02</span></span>
<span id="cb46-114"><a href="aos21.html#cb46-114" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6               Montana     3.91e-02                   1.05e-02        0.00e+00                  1.05e-02</span></span>
<span id="cb46-115"><a href="aos21.html#cb46-115" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7               Wyoming     3.37e-02                   1.12e-02        0.00e+00                  1.01e-02</span></span>
<span id="cb46-116"><a href="aos21.html#cb46-116" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8                  Utah     3.29e-02                   1.01e-02        5.53e-03                  1.55e-02</span></span>
<span id="cb46-117"><a href="aos21.html#cb46-117" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9               Florida     2.80e-02                   2.56e-02        2.84e-02                  2.73e-02</span></span>
<span id="cb46-118"><a href="aos21.html#cb46-118" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10             Colorado     2.73e-02                   2.25e-02        5.16e-03                  2.57e-02</span></span>
<span id="cb46-119"><a href="aos21.html#cb46-119" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11            Louisiana     2.50e-02                   1.63e-02        2.34e-02                  1.99e-02</span></span>
<span id="cb46-120"><a href="aos21.html#cb46-120" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12                Idaho     1.85e-02                   4.78e-03        9.04e-05                  4.45e-03</span></span>
<span id="cb46-121"><a href="aos21.html#cb46-121" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 13         South Dakota     1.52e-02                   5.61e-03        0.00e+00                  4.78e-03</span></span>
<span id="cb46-122"><a href="aos21.html#cb46-122" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 14               Oregon     1.32e-02                   7.10e-03        1.16e-04                  6.14e-03</span></span>
<span id="cb46-123"><a href="aos21.html#cb46-123" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15               Kansas     1.10e-02                   1.14e-02        6.47e-03                  1.78e-02</span></span>
<span id="cb46-124"><a href="aos21.html#cb46-124" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16             Nebraska     1.07e-02                   6.92e-03        1.48e-07                  8.07e-03</span></span>
<span id="cb46-125"><a href="aos21.html#cb46-125" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 17             Oklahoma     7.90e-03                   1.61e-02        2.00e-02                  1.83e-02</span></span>
<span id="cb46-126"><a href="aos21.html#cb46-126" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 18         North Dakota     6.11e-03                   1.73e-03        0.00e+00                  2.18e-03</span></span>
<span id="cb46-127"><a href="aos21.html#cb46-127" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 19             Arkansas     6.06e-03                   5.25e-03        7.98e-03                  7.32e-03</span></span>
<span id="cb46-128"><a href="aos21.html#cb46-128" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 20              Georgia     5.94e-03                   5.02e-03        6.48e-03                  7.14e-03</span></span>
<span id="cb46-129"><a href="aos21.html#cb46-129" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 21          Mississippi     5.79e-03                   4.20e-03        6.51e-03                  6.26e-03</span></span>
<span id="cb46-130"><a href="aos21.html#cb46-130" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 22             Missouri     3.98e-03                   1.98e-03        2.26e-03                  2.43e-03</span></span>
<span id="cb46-131"><a href="aos21.html#cb46-131" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 23           Washington     2.53e-03                   4.72e-04        0.00e+00                  1.42e-03</span></span>
<span id="cb46-132"><a href="aos21.html#cb46-132" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 24              Alabama     2.11e-03                   1.32e-03        1.70e-03                  2.07e-03</span></span>
<span id="cb46-133"><a href="aos21.html#cb46-133" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 25       North Carolina     1.76e-03                   1.46e-03        1.69e-03                  2.22e-03</span></span>
<span id="cb46-134"><a href="aos21.html#cb46-134" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 26                 Iowa     1.68e-03                   5.64e-05        0.00e+00                  1.43e-05</span></span>
<span id="cb46-135"><a href="aos21.html#cb46-135" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 27       South Carolina     1.63e-03                   1.72e-03        2.34e-03                  1.52e-03</span></span>
<span id="cb46-136"><a href="aos21.html#cb46-136" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 28            Tennessee     1.15e-03                   5.34e-04        7.07e-04                  8.69e-04</span></span>
<span id="cb46-137"><a href="aos21.html#cb46-137" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 29             Illinois     1.97e-04                   2.99e-06        9.20e-06                  9.88e-05</span></span>
<span id="cb46-138"><a href="aos21.html#cb46-138" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 30              Indiana     1.04e-04                   1.62e-08        1.18e-06                  1.67e-05</span></span>
<span id="cb46-139"><a href="aos21.html#cb46-139" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 31             Kentucky     9.55e-05                   8.07e-05        2.23e-04                  1.93e-04</span></span>
<span id="cb46-140"><a href="aos21.html#cb46-140" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 32            Minnesota     5.91e-05                   7.41e-06        0.00e+00                  1.14e-05</span></span>
<span id="cb46-141"><a href="aos21.html#cb46-141" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 33             Virginia     4.70e-05                   1.32e-05        3.50e-05                  4.48e-05</span></span>
<span id="cb46-142"><a href="aos21.html#cb46-142" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 34             Michigan     4.41e-06                   0.00e+00        0.00e+00                  2.66e-07</span></span>
<span id="cb46-143"><a href="aos21.html#cb46-143" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 35        West Virginia     1.75e-06                   2.95e-07        2.24e-06                  2.81e-06</span></span>
<span id="cb46-144"><a href="aos21.html#cb46-144" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 36            Wisconsin     1.73e-06                   2.63e-07        0.00e+00                  4.20e-07</span></span>
<span id="cb46-145"><a href="aos21.html#cb46-145" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 37             Maryland     7.47e-07                   2.06e-07        1.03e-06                  4.77e-07</span></span>
<span id="cb46-146"><a href="aos21.html#cb46-146" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 38         Pennsylvania     5.54e-07                   1.01e-07        5.23e-07                  5.51e-08</span></span>
<span id="cb46-147"><a href="aos21.html#cb46-147" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 39             New York     2.29e-07                   3.24e-08        2.64e-10                  2.08e-07</span></span>
<span id="cb46-148"><a href="aos21.html#cb46-148" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 40                 Ohio     4.05e-08                   0.00e+00        3.16e-07                  4.57e-07</span></span>
<span id="cb46-149"><a href="aos21.html#cb46-149" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 41                Maine     0.00e+00                   0.00e+00        0.00e+00                  0.00e+00</span></span>
<span id="cb46-150"><a href="aos21.html#cb46-150" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 42        New Hampshire     0.00e+00                   0.00e+00        0.00e+00                  0.00e+00</span></span>
<span id="cb46-151"><a href="aos21.html#cb46-151" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 43              Vermont     0.00e+00                   0.00e+00        0.00e+00                  0.00e+00</span></span>
<span id="cb46-152"><a href="aos21.html#cb46-152" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 44               Alaska     0.00e+00                   0.00e+00        0.00e+00                  0.00e+00</span></span>
<span id="cb46-153"><a href="aos21.html#cb46-153" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 45 District of Columbia     0.00e+00                   1.33e-08        0.00e+00                  0.00e+00</span></span>
<span id="cb46-154"><a href="aos21.html#cb46-154" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 46             Delaware     0.00e+00                   2.85e-08        3.22e-07                  0.00e+00</span></span>
<span id="cb46-155"><a href="aos21.html#cb46-155" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 47           New Jersey     0.00e+00                   1.59e-07        8.07e-10                  0.00e+00</span></span>
<span id="cb46-156"><a href="aos21.html#cb46-156" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 48          Connecticut     0.00e+00                   0.00e+00        0.00e+00                  0.00e+00</span></span>
<span id="cb46-157"><a href="aos21.html#cb46-157" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 49         Rhode Island     0.00e+00                   0.00e+00        0.00e+00                  0.00e+00</span></span>
<span id="cb46-158"><a href="aos21.html#cb46-158" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 50        Massachusetts     0.00e+00                   0.00e+00        0.00e+00                  0.00e+00</span></span>
<span id="cb46-159"><a href="aos21.html#cb46-159" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 51               Hawaii     0.00e+00                   0.00e+00        0.00e+00                  0.00e+00</span></span></code></pre></div>
</div>
<div id="aos21-habitat" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Habitat associations</h2>
<p>As covered in <a href="nonraster.html#nonraster">lesson 4 on non-raster data</a>, the data packages contain two types of information about the the modeled relationships between estimated occurrence and the habitat covariates used in the model. Predictor importance (PI) estimates identify the most importance predictor variables in the model. Partial dependences (PD) show the relationship between a given habitat covariate and the occurrence probability.</p>
<p>Let’s start by defining a region and season: Loggerhead Shrike within Louisiana during the breeding season.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="aos21.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># loggerhead shrike data path</span></span>
<span id="cb47-2"><a href="aos21.html#cb47-2" aria-hidden="true" tabindex="-1"></a>sp_path <span class="ot">&lt;-</span> <span class="fu">get_species_path</span>(<span class="st">&quot;logshr&quot;</span>)</span>
<span id="cb47-3"><a href="aos21.html#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="aos21.html#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="co"># border of louisiana</span></span>
<span id="cb47-5"><a href="aos21.html#cb47-5" aria-hidden="true" tabindex="-1"></a>la <span class="ot">&lt;-</span> <span class="fu">ne_states</span>(<span class="at">iso_a2 =</span> <span class="st">&quot;US&quot;</span>, <span class="at">returnclass =</span> <span class="st">&quot;sf&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb47-6"><a href="aos21.html#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">&quot;Louisiana&quot;</span>)</span>
<span id="cb47-7"><a href="aos21.html#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="co"># breeding season</span></span>
<span id="cb47-8"><a href="aos21.html#cb47-8" aria-hidden="true" tabindex="-1"></a>logshr_run <span class="ot">&lt;-</span> <span class="fu">filter</span>(ebirdst_runs, common_name <span class="sc">==</span> <span class="st">&quot;Loggerhead Shrike&quot;</span>)</span>
<span id="cb47-9"><a href="aos21.html#cb47-9" aria-hidden="true" tabindex="-1"></a>start_dt <span class="ot">&lt;-</span> logshr_run<span class="sc">$</span>breeding_start</span>
<span id="cb47-10"><a href="aos21.html#cb47-10" aria-hidden="true" tabindex="-1"></a>end_dt <span class="ot">&lt;-</span> logshr_run<span class="sc">$</span>breeding_end</span>
<span id="cb47-11"><a href="aos21.html#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ebirdst_extent object</span></span>
<span id="cb47-12"><a href="aos21.html#cb47-12" aria-hidden="true" tabindex="-1"></a>la_breeding <span class="ot">&lt;-</span> <span class="fu">ebirdst_extent</span>(la, <span class="fu">c</span>(start_dt, end_dt))</span></code></pre></div>
<p>Now we can look at the most important predictors:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="aos21.html#cb48-1" aria-hidden="true" tabindex="-1"></a>pis <span class="ot">&lt;-</span> <span class="fu">load_pis</span>(sp_path, <span class="at">ext =</span> la_breeding)</span>
<span id="cb48-2"><a href="aos21.html#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_pis</span>(pis, <span class="at">ext =</span> la_breeding, <span class="at">by_cover_class =</span> <span class="cn">TRUE</span>, <span class="at">n_top_pred =</span> <span class="dv">25</span>)</span></code></pre></div>
<p><img src="ebirdst-workshop_files/figure-html/aos21-pis-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>From this PI plot we can see that “dense herbaceous” is an important covariate, so let’s example the PD curve for that habitat type. We can find it, and all other model covariates, listed in the <code>ebirdst_predictors</code> data frame.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="aos21.html#cb49-1" aria-hidden="true" tabindex="-1"></a>pds <span class="ot">&lt;-</span> <span class="fu">load_pds</span>(sp_path, <span class="at">ext =</span> la_breeding)</span>
<span id="cb49-2"><a href="aos21.html#cb49-2" aria-hidden="true" tabindex="-1"></a>ebirdst_predictors <span class="sc">%&gt;%</span> </span>
<span id="cb49-3"><a href="aos21.html#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(lc_class_label <span class="sc">==</span> <span class="st">&quot;Dense Herbaceous&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb49-4"><a href="aos21.html#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(predictor_tidy, predictor_label)</span>
<span id="cb49-5"><a href="aos21.html#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 2</span></span>
<span id="cb49-6"><a href="aos21.html#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   predictor_tidy                  predictor_label       </span></span>
<span id="cb49-7"><a href="aos21.html#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                           &lt;chr&gt;                 </span></span>
<span id="cb49-8"><a href="aos21.html#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 mcd12q1_lccs1_fs_c31_1500_ed    Dense Herbaceous ED   </span></span>
<span id="cb49-9"><a href="aos21.html#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 mcd12q1_lccs1_fs_c31_1500_pland Dense Herbaceous PLAND</span></span>
<span id="cb49-10"><a href="aos21.html#cb49-10" aria-hidden="true" tabindex="-1"></a>pd_smooth <span class="ot">&lt;-</span> <span class="fu">plot_pds</span>(pds, <span class="st">&quot;mcd12q1_lccs1_fs_c31_1500_pland&quot;</span>, <span class="at">ext =</span> la_breeding, </span>
<span id="cb49-11"><a href="aos21.html#cb49-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">n_bs =</span> <span class="dv">5</span>)</span></code></pre></div>
<p><img src="ebirdst-workshop_files/figure-html/aos21-pds-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>We can think of the PIs and PDs telling us something about the strength and directionality of a habitat association, respectively. For example, there is a strong positive association with dense herbaceous cover. The <a href="https://ebird.org/science/status-and-trends/habitat-regional-charts">regional habitat charts on the eBird Status and Trends</a> website combine the PI and PD information to visualize how species associate with different habitat types throughout the year, giving both the strength and direction of that association. The function <code>ebirdst_habitat()</code> generates the data behind these plots for a given region.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="aos21.html#cb50-1" aria-hidden="true" tabindex="-1"></a>habitat <span class="ot">&lt;-</span> <span class="fu">ebirdst_habitat</span>(sp_path, <span class="at">ext =</span> la_breeding)</span>
<span id="cb50-2"><a href="aos21.html#cb50-2" aria-hidden="true" tabindex="-1"></a>habitat</span>
<span id="cb50-3"><a href="aos21.html#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1,248 × 5</span></span>
<span id="cb50-4"><a href="aos21.html#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   predictor                     date importance prob_pos_slope direction</span></span>
<span id="cb50-5"><a href="aos21.html#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; * &lt;chr&gt;                        &lt;dbl&gt;      &lt;dbl&gt;          &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb50-6"><a href="aos21.html#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 intertidal_fs_c1_1500_pland 0.0096    0.00423          0.308        NA</span></span>
<span id="cb50-7"><a href="aos21.html#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 intertidal_fs_c1_1500_pland 0.0288    0.00428          0.307        NA</span></span>
<span id="cb50-8"><a href="aos21.html#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 intertidal_fs_c1_1500_pland 0.0481    0.00433          0.308        NA</span></span>
<span id="cb50-9"><a href="aos21.html#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 intertidal_fs_c1_1500_pland 0.0673    0.00438          0.308        NA</span></span>
<span id="cb50-10"><a href="aos21.html#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 intertidal_fs_c1_1500_pland 0.0865    0.00444          0.308        NA</span></span>
<span id="cb50-11"><a href="aos21.html#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 intertidal_fs_c1_1500_pland 0.106     0.00451          0.308        NA</span></span>
<span id="cb50-12"><a href="aos21.html#cb50-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 1,242 more rows</span></span></code></pre></div>
<p>We can call <code>plot()</code> on the output of <code>ebirdst_habitat()</code> to generate a habitat association chart.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="aos21.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(habitat)</span></code></pre></div>
<p><img src="ebirdst-workshop_files/figure-html/aos21-habchart-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="nonraster.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
